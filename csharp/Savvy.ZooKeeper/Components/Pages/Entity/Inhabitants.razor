@page "/animals"
@inherits BaseGrid<Animal>
@rendermode InteractiveServer

<SfGrid ID="Grid" @ref="@Grid" DataSource="@Rows" AllowSorting="true" AllowPaging="true" AllowSelection="true" AllowFiltering="true" AllowGrouping="true" AllowMultiSorting="true" Toolbar="@(new string[] {"Delete","Update","Cancel" })">
    <GridSelectionSettings Mode="SelectionMode.Row"> </GridSelectionSettings>

    <GridColumns>
        <GridColumn Field=@nameof(Animal.Name) HeaderText="Name" Width="150"></GridColumn>
        <GridColumn Field="AnimalType.Name" HeaderText="Type" Width="150"></GridColumn>
        <GridColumn Field=@nameof(Animal.CurrentStatus) HeaderText="Status" Width="150"></GridColumn>
        <GridColumn Field="Exhibit.Name" HeaderText="Exhibit" Width="150"></GridColumn>
        <GridColumn Field=@nameof(Animal.BirthDate) HeaderText="Birth" Width="150"></GridColumn>
        <GridColumn Field=@nameof(Animal.PreferredHabitat) HeaderText="Birth" Width="150"></GridColumn>
        <GridColumn Field=@nameof(Animal.ActualDiet) HeaderText="Birth" Width="150"></GridColumn>
        <GridColumn Field=@nameof(Animal.ActualFeedingTimes) HeaderText="Birth" Width="150"></GridColumn>
    </GridColumns>
    <GridEvents RowSelected="GetSelectedRecords" TValue="Animal"></GridEvents>

</SfGrid>

<SfTab ID="Tab">
    <TabItems>
        <TabItem>
            <ChildContent>
                <TabHeader Text="Status History"></TabHeader>
            </ChildContent>
            <ContentTemplate>
                <SfGrid DataSource="@States">
                    <GridColumns>
                        <GridColumn Field=@nameof(AnimalState.Created) HeaderText="Created" Width="150"></GridColumn>
                        <GridColumn Field=@nameof(AnimalState.Effective) HeaderText="Effective" Width="150"></GridColumn>
                        <GridColumn Field=@nameof(AnimalState.Status) HeaderText="Notes" Width="150"></GridColumn>
                        <GridColumn Field=@nameof(AnimalState.WasFed) HeaderText="Fed" Width="150"></GridColumn>
                        <GridColumn Field="CreatedBy.Name" HeaderText="CreatedBy" Width="150"></GridColumn>
                    </GridColumns>
                </SfGrid>
            </ContentTemplate>
        </TabItem>

        <TabItem>
            <ChildContent>
                <TabHeader Text="Notes"></TabHeader>
            </ChildContent>
            <ContentTemplate>
                <SfGrid DataSource="@Notes">
                    <GridColumns>
                        <GridColumn Field=@nameof(Note.Created) HeaderText="Created" Width="150"></GridColumn>
                        <GridColumn Field=@nameof(Note.Description) HeaderText="Notes" Width="150"></GridColumn>
                        <GridColumn Field="CreatedBy.Name" HeaderText="CreatedBy" Width="150"></GridColumn>
                    </GridColumns>
                </SfGrid>
            </ContentTemplate>
        </TabItem>

    </TabItems>

</SfTab>