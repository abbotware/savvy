@page "/admin"
@rendermode InteractiveServer

<PageTitle>Admin</PageTitle>

<SfTab>
    <TabItems>
        <TabItem>
            <ChildContent>
                <TabHeader Text="Principals"></TabHeader>
            </ChildContent>
            <ContentTemplate>
                <SfGrid DataSource="@Principals"></SfGrid>
            </ContentTemplate>
        </TabItem>
        <TabItem>
            <ChildContent>
                <TabHeader Text="Roles"></TabHeader>
            </ChildContent>
            <ContentTemplate>
                <SfGrid DataSource="@Roles">
                    <GridTemplates>
                        <DetailTemplate>
                            @{
                                var row = (Role)context;
                                <SfGrid DataSource="@row.PrincipalRoles">
                                </SfGrid>
                            }
                        </DetailTemplate>
                    </GridTemplates>


                </SfGrid>
            </ContentTemplate>
        </TabItem>
        <TabItem>
            <ChildContent>
                <TabHeader Text="Permissions"></TabHeader>
            </ChildContent>
            <ContentTemplate>
                <SfGrid DataSource="@Permissions">
                    <GridTemplates>
                        <DetailTemplate>
                            @{
                                var row = (Permission)context;
                                <SfGrid DataSource="@row.RolePermissions">
                                </SfGrid>
                            }
                        </DetailTemplate>
                    </GridTemplates>

                </SfGrid>
            </ContentTemplate>
        </TabItem>


        <TabItem>
            <ChildContent>
                <TabHeader Text="Employees"></TabHeader>
            </ChildContent>
            <ContentTemplate>
                <SfGrid DataSource="@Employees">
                </SfGrid>
            </ContentTemplate>
        </TabItem>

        <TabItem>
            <ChildContent>
                <TabHeader Text="User Session"></TabHeader>
            </ChildContent>
            <ContentTemplate>
                <SfNumericTextBox @bind-Value=@UserId></SfNumericTextBox>
                <SfButton OnClick=@OnChangeUserId>Set User</SfButton>
            </ContentTemplate>
        </TabItem>
    </TabItems>
</SfTab>